/* ================================================================
   PAYROLL COMPONENT — FULL CSS
   Sections:
   1. KPI Cards
   2. Salary Generator & Preview
   3. Commission Section Header
   4. Commission Calculator
   5. Table Styles (Shared)
   6. Status Badges (All Statuses)
   7. Modal Styles (Shared)
   8. Bulk Commission Modal
   9. Salary Status Modal
   10. Utility & Responsive
================================================================ */


/* ================= 1. KPI CARDS ================= */

.kpi-row-modern {
  display: flex;
  gap: 16px;
  margin-bottom: 25px;
  flex-wrap: wrap;
}

.kpi-card-modern {
  flex: 1;
  min-width: 180px;
  background: white;
  border-radius: 12px;
  padding: 18px 20px;
  display: flex;
  align-items: center;
  gap: 14px;
  border-left: 5px solid #3b82f6;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.kpi-card-modern:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
}

/* Clickable KPI (Paid / Hold cards) */
.kpi-card-modern.clickable {
  cursor: pointer;
  user-select: none;
}

.kpi-card-modern.clickable:active {
  transform: translateY(0px);
}

/* Color Variants */
.kpi-card-modern.on-duty   { border-color: #10b981; }
.kpi-card-modern.efficiency { border-color: #8b5cf6; }

.kpi-icon-modern {
  width: 48px;
  height: 48px;
  min-width: 48px;
  background: #eff6ff;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.4rem;
}

.kpi-content-modern {
  display: flex;
  flex-direction: column;
  gap: 2px;
}

.kpi-label-modern {
  font-size: 0.78rem;
  color: #64748b;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.6px;
}

.kpi-value-modern {
  font-size: 1.45rem;
  font-weight: 700;
  color: #1e293b;
  line-height: 1.2;
}

/* "View Details ›" under clickable KPI */
.kpi-link {
  font-size: 0.75rem;
  color: #3b82f6;
  font-weight: 500;
  margin-top: 2px;
}


/* ================= 2. SALARY GENERATOR & PREVIEW ================= */

.salary-generator {
  background: white;
  padding: 24px;
  border-radius: 12px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
  margin-bottom: 28px;
  border: 1px solid #e2e8f0;
}

.salary-generator h3 {
  margin: 0 0 20px 0;
  color: #1e293b;
  font-size: 1.2rem;
  border-bottom: 2px solid #f1f5f9;
  padding-bottom: 12px;
}

.generator-container {
  display: flex;
  gap: 28px;
  flex-wrap: wrap;
  align-items: flex-start;
}

/* Left: Form */
.generator-form {
  flex: 1;
  min-width: 280px;
  display: flex;
  flex-direction: column;
  gap: 18px;
}

.form-group-inline {
  display: flex;
  flex-direction: column;
  gap: 7px;
}

.form-group-inline label {
  font-weight: 600;
  color: #475569;
  font-size: 0.88rem;
}

.form-input {
  padding: 10px 12px;
  border: 1px solid #cbd5e1;
  border-radius: 8px;
  font-size: 0.95rem;
  color: #1e293b;
  background: white;
  transition: border-color 0.2s, box-shadow 0.2s;
  width: 100%;
  box-sizing: border-box;
}

.form-input:focus {
  outline: none;
  border-color: #3b82f6;
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.12);
}

/* Staff info chips shown after selection */
.staff-info-preview {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  margin-top: -8px;
}

.info-chip {
  background: #f1f5f9;
  border: 1px solid #e2e8f0;
  padding: 5px 12px;
  border-radius: 20px;
  font-size: 0.82rem;
  color: #475569;
}

.generator-actions {
  margin-top: 6px;
  display: flex;
  gap: 12px;
}

.btn-generate {
  background: #3b82f6;
  color: white;
  border: none;
  padding: 11px 22px;
  border-radius: 8px;
  font-weight: 600;
  font-size: 0.95rem;
  cursor: pointer;
  transition: background 0.2s, transform 0.1s;
  flex: 1;
}

.btn-generate:hover:not(:disabled) { background: #2563eb; transform: translateY(-1px); }
.btn-generate:disabled { background: #94a3b8; cursor: not-allowed; }

/* Right: Live Calculation Preview */
.calculation-preview {
  flex: 1;
  min-width: 280px;
  background: #f8fafc;
  border: 1px solid #e2e8f0;
  border-radius: 10px;
  padding: 20px;
}

.calculation-preview h4 {
  margin: 0 0 4px 0;
  color: #1e293b;
  font-size: 1rem;
}

.preview-staff-name {
  margin: 0 0 16px 0;
  font-size: 0.85rem;
  color: #64748b;
  font-weight: 400;
}

.preview-section-label {
  font-size: 0.75rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.8px;
  color: #94a3b8;
  padding-bottom: 4px;
  border-bottom: 1px solid #e2e8f0;
  margin-bottom: 2px;
}

.deduct-label { color: #fca5a5; }

.preview-grid {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.preview-item {
  display: flex;
  justify-content: space-between;
  font-size: 0.92rem;
  color: #475569;
  padding-bottom: 8px;
  border-bottom: 1px dashed #e2e8f0;
}

.preview-item:last-child { border-bottom: none; padding-bottom: 0; }
.preview-item strong    { color: #1e293b; }
.preview-item.add       strong { color: #10b981; }
.preview-item.deduct    strong { color: #ef4444; }

.preview-item.total {
  margin-top: 8px;
  padding-top: 12px;
  border-top: 2px solid #cbd5e1;
  font-size: 1.05rem;
  font-weight: 700;
  color: #1e293b;
  border-bottom: none;
}

.preview-item.total strong { color: #3b82f6; font-size: 1.1rem; }

/* Empty Preview State */
.empty-preview {
  flex: 1;
  min-width: 280px;
  background: #f8fafc;
  border: 2px dashed #e2e8f0;
  border-radius: 10px;
  padding: 40px 20px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  color: #94a3b8;
  gap: 10px;
}

.empty-preview span { font-size: 2rem; }
.empty-preview p    { margin: 0; font-size: 0.9rem; }


/* ================= 3. COMMISSION SECTION HEADER ================= */

.commission-section-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 18px;
  flex-wrap: wrap;
  gap: 12px;
}

.commission-section-header h2 {
  margin: 0;
  font-size: 1.2rem;
  color: #1e293b;
}

/* Bulk Commission Button */
.btn-bulk-commission {
  background: linear-gradient(135deg, #f59e0b, #d97706);
  color: white;
  border: none;
  padding: 10px 20px;
  border-radius: 8px;
  font-weight: 600;
  font-size: 0.9rem;
  cursor: pointer;
  transition: opacity 0.2s, transform 0.15s;
}

.btn-bulk-commission:hover { opacity: 0.9; transform: translateY(-1px); }


/* ================= 4. COMMISSION CALCULATOR ================= */

.commission-calculator {
  background: white;
  padding: 24px;
  border-radius: 12px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
  margin-bottom: 28px;
  border: 1px solid #e2e8f0;
}

.commission-calculator h3 {
  margin: 0 0 20px 0;
  color: #1e293b;
  font-size: 1.2rem;
  border-bottom: 2px solid #f1f5f9;
  padding-bottom: 12px;
}

.calculator-form {
  display: flex;
  gap: 20px;
  align-items: flex-end;
  flex-wrap: wrap;
}

.calculator-form .form-group-inline { flex: 1; min-width: 180px; }

.result-group {
  justify-content: flex-end;
}

.commission-result {
  display: block;
  font-size: 1.6rem;
  color: #10b981;
  font-weight: 700;
  padding: 6px 0;
}


/* ================= 5. TABLE STYLES (SHARED) ================= */

.salary-table-container,
.commission-table-container {
  background: white;
  padding: 24px;
  border-radius: 12px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
  margin-bottom: 28px;
  border: 1px solid #e2e8f0;
}

.table-section-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 18px;
}

.table-section-header h3 {
  margin: 0;
  color: #1e293b;
  font-size: 1.1rem;
}

.table-scroll-wrapper {
  overflow-x: auto;
}

.staff-table,
.report-table,
.preview-table {
  width: 100%;
  border-collapse: collapse;
  min-width: 700px;
}

.staff-table thead th,
.report-table thead th,
.preview-table thead th {
  text-align: left;
  padding: 11px 16px;
  background: #f8fafc;
  color: #64748b;
  font-weight: 700;
  font-size: 0.8rem;
  border-bottom: 2px solid #e2e8f0;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  white-space: nowrap;
}

.staff-table tbody td,
.report-table tbody td,
.preview-table tbody td {
  padding: 14px 16px;
  border-bottom: 1px solid #f1f5f9;
  color: #334155;
  font-size: 0.92rem;
  vertical-align: middle;
}

.staff-table tbody tr:hover,
.report-table tbody tr:hover { background: #f8fafc; }

.staff-table tbody tr:last-child td,
.report-table tbody tr:last-child td { border-bottom: none; }

/* Staff name with avatar */
.staff-name-cell {
  display: flex;
  align-items: center;
  gap: 10px;
}

.table-avatar {
  width: 34px;
  height: 34px;
  min-width: 34px;
  background: linear-gradient(135deg, #3b82f6, #6366f1);
  color: white;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 0.85rem;
}

.table-avatar.hold-avatar {
  background: linear-gradient(135deg, #ef4444, #dc2626);
}

/* Rate pill in commission table */
.rate-pill {
  background: #ede9fe;
  color: #6d28d9;
  padding: 3px 10px;
  border-radius: 20px;
  font-size: 0.8rem;
  font-weight: 600;
}

/* Column-specific styling */
.allowance-cell    { color: #10b981; font-weight: 600; }
.deduction-amount  { color: #ef4444; font-weight: 600; }
.net-salary,
.commission-amount { color: #1e293b; font-weight: 700; }

.empty-table-row {
  text-align: center;
  color: #94a3b8;
  padding: 30px !important;
  font-style: italic;
}


/* ================= 6. STATUS BADGES ================= */

.status-badge-modern {
  padding: 5px 12px;
  border-radius: 20px;
  font-size: 0.72rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.6px;
  display: inline-block;
  white-space: nowrap;
}

/* PAID / SENT */
.status-badge-modern.on-duty {
  background: #dcfce7;
  color: #166534;
}

/* PENDING / HOLD */
.status-badge-modern.off-duty {
  background: #fef9c3;
  color: #854d0e;
}

/* GENERATED */
.status-badge-modern.status-generated {
  background: #dbeafe;
  color: #1d4ed8;
}

/* SENT */
.status-badge-modern.status-sent {
  background: #e0f2fe;
  color: #0369a1;
}

/* HOLD (Red) */
.status-badge-modern.status-hold {
  background: #fee2e2;
  color: #991b1b;
}

/* Action icon buttons */
.action-btn-icon {
  background: none;
  border: 1px solid #e2e8f0;
  width: 34px;
  height: 34px;
  border-radius: 8px;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  margin-right: 6px;
  transition: all 0.2s;
  font-size: 1rem;
}

.action-btn-icon:hover {
  background: #f1f5f9;
  border-color: #cbd5e1;
  transform: translateY(-1px);
}


/* ================= 7. MODAL STYLES (SHARED) ================= */

.modal-overlay {
  position: fixed;
  inset: 0;
  background: rgba(15, 23, 42, 0.45);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  backdrop-filter: blur(2px);
  padding: 20px;
}

.modal-content {
  background: white;
  border-radius: 14px;
  width: 100%;
  max-width: 550px;
  max-height: 90vh;
  display: flex;
  flex-direction: column;
  box-shadow: 0 20px 50px rgba(0, 0, 0, 0.2);
  animation: modalIn 0.2s ease;
}

.modal-content.large-modal {
  max-width: 850px;
}

@keyframes modalIn {
  from { opacity: 0; transform: scale(0.96) translateY(8px); }
  to   { opacity: 1; transform: scale(1) translateY(0); }
}

.modal-header {
  padding: 20px 24px;
  border-bottom: 1px solid #e2e8f0;
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 12px;
  flex-wrap: wrap;
}

.modal-header h3 {
  margin: 0;
  font-size: 1.1rem;
  color: #1e293b;
}

.modal-title-group {
  display: flex;
  flex-direction: column;
  gap: 10px;
  flex: 1;
}

.close-btn {
  background: #f1f5f9;
  border: none;
  width: 32px;
  height: 32px;
  border-radius: 8px;
  cursor: pointer;
  font-size: 1rem;
  color: #64748b;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: background 0.2s;
  flex-shrink: 0;
}

.close-btn:hover { background: #e2e8f0; color: #1e293b; }

.modal-body {
  padding: 22px 24px;
  overflow-y: auto;
  flex-grow: 1;
}

.modal-footer {
  padding: 16px 24px;
  border-top: 1px solid #e2e8f0;
  display: flex;
  justify-content: flex-end;
  gap: 12px;
  flex-wrap: wrap;
}

.modal-description {
  color: #64748b;
  font-size: 0.92rem;
  line-height: 1.6;
  margin: 0 0 18px 0;
  background: #f8fafc;
  border-radius: 8px;
  padding: 12px 15px;
  border-left: 4px solid #3b82f6;
}

.btn-primary {
  background: #3b82f6;
  color: white;
  border: none;
  padding: 10px 22px;
  border-radius: 8px;
  font-weight: 600;
  font-size: 0.9rem;
  cursor: pointer;
  transition: background 0.2s, transform 0.1s;
}

.btn-primary:hover { background: #2563eb; transform: translateY(-1px); }

.btn-secondary {
  background: white;
  color: #475569;
  border: 1px solid #cbd5e1;
  padding: 10px 22px;
  border-radius: 8px;
  font-weight: 600;
  font-size: 0.9rem;
  cursor: pointer;
  transition: background 0.2s;
}

.btn-secondary:hover { background: #f8fafc; }


/* ================= 8. BULK COMMISSION MODAL ================= */

/* Performance tier info box */
.tier-info-box {
  background: #fefce8;
  border: 1px solid #fde047;
  border-radius: 10px;
  padding: 14px 16px;
  margin-bottom: 20px;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.tier-row {
  display: flex;
  align-items: center;
  gap: 10px;
  font-size: 0.88rem;
  color: #713f12;
}

.tier-dot {
  width: 10px;
  height: 10px;
  min-width: 10px;
  border-radius: 50%;
}

.tier-dot.gold  { background: #f59e0b; }
.tier-dot.green { background: #22c55e; }

/* Rate selector buttons */
.rate-selector {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
}

.rate-btn {
  flex: 1;
  min-width: 100px;
  padding: 10px 14px;
  border: 2px solid #e2e8f0;
  background: white;
  border-radius: 10px;
  font-weight: 600;
  font-size: 0.88rem;
  color: #475569;
  cursor: pointer;
  transition: all 0.2s;
  text-align: center;
}

.rate-btn:hover { border-color: #3b82f6; color: #3b82f6; background: #eff6ff; }

.rate-btn.selected {
  border-color: #3b82f6;
  background: #eff6ff;
  color: #1d4ed8;
}

/* Bulk commission preview table */
.bulk-commission-preview {
  margin-top: 22px;
}

.bulk-commission-preview h4 {
  margin: 0 0 12px 0;
  color: #334155;
  font-size: 0.95rem;
}

.bulk-commission-preview .preview-table {
  min-width: 400px;
}


/* ================= 9. SALARY STATUS MODAL ================= */

/* Paid / Hold Tab Switcher */
.status-filter-tabs {
  display: flex;
  gap: 8px;
}

.tab-btn {
  padding: 7px 16px;
  border: 1px solid #e2e8f0;
  background: white;
  border-radius: 20px;
  font-size: 0.82rem;
  font-weight: 600;
  color: #64748b;
  cursor: pointer;
  transition: all 0.2s;
}

.tab-btn:hover { background: #f8fafc; }

.tab-btn.active {
  background: #3b82f6;
  border-color: #3b82f6;
  color: white;
}


/* ================= 10. RESPONSIVE ================= */

@media (max-width: 768px) {
  .kpi-card-modern { min-width: 45%; }
  .generator-container { flex-direction: column; }
  .calculation-preview, .empty-preview { min-width: unset; }
  .calculator-form { flex-direction: column; }
  .rate-selector { flex-direction: column; }
  .commission-section-header { flex-direction: column; align-items: flex-start; }
  .modal-content { max-width: 100%; margin: 10px; }
  .modal-footer { justify-content: stretch; }
  .modal-footer .btn-primary,
  .modal-footer .btn-secondary { flex: 1; text-align: center; }
  .status-filter-tabs { flex-wrap: wrap; }
}

@media (max-width: 480px) {
  .kpi-card-modern { min-width: 100%; }
  .kpi-value-modern { font-size: 1.2rem; }
}
