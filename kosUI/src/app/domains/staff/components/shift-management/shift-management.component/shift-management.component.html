<!-- Shift KPI Cards -->
<div class="kpi-row-modern" *ngIf="kpi">
  <div class="kpi-card-modern">
    <div class="kpi-icon-modern">â°</div>
    <div class="kpi-content-modern">
      <span class="kpi-label-modern">Active Shifts</span>
      <strong class="kpi-value-modern">{{ kpi.activeShifts }}</strong>
    </div>
  </div>

  <div class="kpi-card-modern on-duty">
    <div class="kpi-icon-modern">âœ…</div>
    <div class="kpi-content-modern">
      <span class="kpi-label-modern">On Duty</span>
      <strong class="kpi-value-modern">{{ kpi.onDuty }}</strong>
    </div>
  </div>

  <div class="kpi-card-modern">
    <div class="kpi-icon-modern" style="background: #f3f4f6;">ğŸ’¤</div>
    <div class="kpi-content-modern">
      <span class="kpi-label-modern">Off Duty</span>
      <strong class="kpi-value-modern">{{ kpi.offDuty }}</strong>
    </div>
  </div>

  <div class="kpi-card-modern efficiency">
    <div class="kpi-icon-modern">ğŸ•</div>
    <div class="kpi-content-modern">
      <span class="kpi-label-modern">Current Shift</span>
      <strong class="shift-name">{{ kpi.currentShift }}</strong>
    </div>
  </div>
</div>

<!-- Shift Templates -->
<div class="shift-templates-section">
  <div class="section-header">
    <h3>Shift Templates</h3>
    <button class="add-staff-btn" (click)="onAddShift()">
      â• Add Shift
    </button>
  </div>

  <div class="shift-templates-grid">
    <div class="shift-template-card" *ngFor="let shift of templates">
      <div class="shift-template-header">
        <h4>{{ shift.name }}</h4>
        <span
          class="shift-active-badge"
          [class.active]="shift.isActive">
          {{ shift.isActive ? 'Active' : 'Inactive' }}
        </span>
      </div>

      <div class="shift-template-body">
        <div class="shift-time-info">
          <span class="shift-icon">ğŸ•</span>
          <strong>{{ shift.startTime }} - {{ shift.endTime }}</strong>
        </div>
        <div class="shift-duration">
          Duration: {{ shift.duration }} hours
        </div>
      </div>

      <div class="shift-template-footer">
        <button
          class="btn-edit-shift"
          (click)="onEditShift(shift)">
          âœï¸ Edit
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Today's Shift Assignments -->
<div class="shift-assignments-section">
  <h3>Today's Shift Assignments - {{ selectedDate | date:'fullDate' }}</h3>

  <div class="shift-assignment-groups">
    <div class="shift-group" *ngFor="let template of templates">
      <div class="shift-group-header">
        <h4>{{ template.name }}</h4>
        <span class="shift-time">
          {{ template.startTime }} - {{ template.endTime }}
        </span>
      </div>

      <div class="shift-staff-list">
        <div
          class="shift-staff-badge"
          *ngFor="let assignment of getAssignmentsByShift(template.id)">
          {{ assignment.staffName }}
        </div>

        <div
          class="empty-shift-message"
          *ngIf="getAssignmentsByShift(template.id).length === 0">
          No staff assigned
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Weekly Timeline placeholder -->
<div class="shift-timeline-section">
  <h3>Weekly Shift Timeline</h3>
  <div class="timeline-placeholder">
    <p>ğŸ“Š Visual timeline coming soon...</p>
  </div>
</div>
