<div
  class="sidebar"
  [class.collapsed]="isCollapsedView"
  (mouseenter)="onMouseEnter()"
  (mouseleave)="onMouseLeave()">

  <!-- Toggle button -->
  <button
    class="toggle"
    type="button"
    (click)="layout.toggle()"
    [title]="layout.isSidebarCollapsed ? 'Expand sidebar' : 'Collapse sidebar'"
    aria-label="Toggle sidebar">
    <span class="material-icons">
      {{ isCollapsedView ? 'menu_open' : 'menu' }}
    </span>
  </button>

  <!-- Logo -->
  <!-- <div class="logo">
    <span class="logo-short" *ngIf="isCollapsedView">K</span>
    <span class="logo-full"  *ngIf="!isCollapsedView">KOS</span>
  </div> -->

  <!-- Nav -->
  <nav role="navigation" aria-label="Main navigation">
    <ng-container *ngFor="let item of menuItems; trackBy: trackByLabel">

      <!-- SINGLE item -->
      <a
        *ngIf="!item.children"
        [routerLink]="item.route"
        routerLinkActive="active"
        class="menu-item"
        [title]="getTooltip(item.label)"
        [attr.aria-label]="item.label">
        <span class="material-icons icon">{{ item.icon }}</span>
        <span class="text">{{ item.label }}</span>
      </a>

      <!-- GROUP item -->
      <div
        *ngIf="item.children"
        class="menu-group"
        [class.expanded]="item.expanded">

        <button
          type="button"
          class="menu-item group-header"
          [class.active-group]="item.expanded"
          [title]="getTooltip(item.label)"
          [attr.aria-expanded]="item.expanded"
          [attr.aria-label]="item.label"
          (click)="toggleGroup(item)">
          <span class="material-icons icon">{{ item.icon }}</span>
          <span class="text">{{ item.label }}</span>
          <span class="material-icons arrow">
            {{ item.expanded ? 'expand_less' : 'expand_more' }}
          </span>
        </button>

        <!-- Submenu -->
        <div class="submenu" role="group">
          <a
            *ngFor="let child of item.children"
            [routerLink]="child.route"
            routerLinkActive="active"
            class="submenu-item"
            [attr.aria-label]="child.label">
            <span class="material-icons icon">{{ child.icon }}</span>
            <span class="text">{{ child.label }}</span>
          </a>
        </div>

      </div>

    </ng-container>
  </nav>

</div>
